{% extends 'base.html' %}
{% block content %}
  <h2 style="text-align:center;">Scores — {{ test.title }}</h2>

  <div style="text-align:center; margin-bottom:10px;">
    <a href="{{ url_for('faculty_dashboard') }}">
      <button style="padding:6px 10px;">← Back to Dashboard</button>
    </a>
    <a href="{{ url_for('add_question', test_id=test.id) }}">
      <button style="padding:6px 10px;">Add Questions</button>
    </a>
  </div>

  <table style="width:85%; margin: 0 auto 30px; border-collapse:collapse; text-align:center;">
    <thead style="background:#198754; color:white;">
      <tr>
        <th style="padding:10px; border:1px solid #ddd;">Student</th>
        <th style="padding:10px; border:1px solid #ddd;">Score</th>
        <th style="padding:10px; border:1px solid #ddd;">Out of</th>
        <th style="padding:10px; border:1px solid #ddd;">Submitted At</th>
      </tr>
    </thead>
    <tbody>
      {% for s in scores %}
        <tr>
          <td style="padding:10px; border:1px solid #ddd;">{{ s.student }}</td>
          <td style="padding:10px; border:1px solid #ddd;">{{ s.score }}</td>
          <td style="padding:10px; border:1px solid #ddd;">{{ s.possible }}</td>
          <td style="padding:10px; border:1px solid #ddd;">
            {% if s.submitted_at %}
              {{ s.submitted_at.strftime('%d-%m-%Y') }}
            {% else %}
              N/A
            {% endif %}
          </td>
        </tr>
      {% else %}
        <tr>
          <td colspan="4" style="padding:12px; border:1px solid #ddd;">No submissions yet</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}